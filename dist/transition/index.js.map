{
  "version": 3,
  "sources": ["../../bin/live-reload.js", "../../node_modules/.pnpm/selector-set@1.1.5/node_modules/selector-set/selector-set.next.js", "../../node_modules/.pnpm/@unseenco+e@2.4.0/node_modules/@unseenco/e/src/utils.js", "../../node_modules/.pnpm/@unseenco+e@2.4.0/node_modules/@unseenco/e/src/e.js", "../../node_modules/.pnpm/@unseenco+taxi@1.6.0/node_modules/@unseenco/taxi/src/helpers.js", "../../node_modules/.pnpm/@unseenco+taxi@1.6.0/node_modules/@unseenco/taxi/src/Transition.js", "../../node_modules/.pnpm/@unseenco+taxi@1.6.0/node_modules/@unseenco/taxi/src/Renderer.js", "../../node_modules/.pnpm/@unseenco+taxi@1.6.0/node_modules/@unseenco/taxi/src/RouteStore.js", "../../node_modules/.pnpm/@unseenco+taxi@1.6.0/node_modules/@unseenco/taxi/src/Core.js", "../../src/transition/transition-config.ts", "../../src/transition/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "// Public: Create a new SelectorSet.\nexport default function SelectorSet() {\n  // Construct new SelectorSet if called as a function.\n  if (!(this instanceof SelectorSet)) {\n    return new SelectorSet();\n  }\n\n  // Public: Number of selectors added to the set\n  this.size = 0;\n\n  // Internal: Incrementing ID counter\n  this.uid = 0;\n\n  // Internal: Array of String selectors in the set\n  this.selectors = [];\n\n  // Internal: Map of selector ids to objects\n  this.selectorObjects = {};\n\n  // Internal: All Object index String names mapping to Index objects.\n  this.indexes = Object.create(this.indexes);\n\n  // Internal: Used Object index String names mapping to Index objects.\n  this.activeIndexes = [];\n}\n\n// Detect prefixed Element#matches function.\nvar docElem = window.document.documentElement;\nvar matches =\n  docElem.matches ||\n  docElem.webkitMatchesSelector ||\n  docElem.mozMatchesSelector ||\n  docElem.oMatchesSelector ||\n  docElem.msMatchesSelector;\n\n// Public: Check if element matches selector.\n//\n// Maybe overridden with custom Element.matches function.\n//\n// el       - An Element\n// selector - String CSS selector\n//\n// Returns true or false.\nSelectorSet.prototype.matchesSelector = function(el, selector) {\n  return matches.call(el, selector);\n};\n\n// Public: Find all elements in the context that match the selector.\n//\n// Maybe overridden with custom querySelectorAll function.\n//\n// selectors - String CSS selectors.\n// context   - Element context\n//\n// Returns non-live list of Elements.\nSelectorSet.prototype.querySelectorAll = function(selectors, context) {\n  return context.querySelectorAll(selectors);\n};\n\n// Public: Array of indexes.\n//\n// name     - Unique String name\n// selector - Function that takes a String selector and returns a String key\n//            or undefined if it can't be used by the index.\n// element  - Function that takes an Element and returns an Array of String\n//            keys that point to indexed values.\n//\nSelectorSet.prototype.indexes = [];\n\n// Index by element id\nvar idRe = /^#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'ID',\n  selector: function matchIdSelector(sel) {\n    var m;\n    if ((m = sel.match(idRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementId(el) {\n    if (el.id) {\n      return [el.id];\n    }\n  }\n});\n\n// Index by all of its class names\nvar classRe = /^\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'CLASS',\n  selector: function matchClassSelector(sel) {\n    var m;\n    if ((m = sel.match(classRe))) {\n      return m[0].slice(1);\n    }\n  },\n  element: function getElementClassNames(el) {\n    var className = el.className;\n    if (className) {\n      if (typeof className === 'string') {\n        return className.split(/\\s/);\n      } else if (typeof className === 'object' && 'baseVal' in className) {\n        // className is a SVGAnimatedString\n        // global SVGAnimatedString is not an exposed global in Opera 12\n        return className.baseVal.split(/\\s/);\n      }\n    }\n  }\n});\n\n// Index by tag/node name: `DIV`, `FORM`, `A`\nvar tagRe = /^((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/g;\nSelectorSet.prototype.indexes.push({\n  name: 'TAG',\n  selector: function matchTagSelector(sel) {\n    var m;\n    if ((m = sel.match(tagRe))) {\n      return m[0].toUpperCase();\n    }\n  },\n  element: function getElementTagName(el) {\n    return [el.nodeName.toUpperCase()];\n  }\n});\n\n// Default index just contains a single array of elements.\nSelectorSet.prototype.indexes['default'] = {\n  name: 'UNIVERSAL',\n  selector: function() {\n    return true;\n  },\n  element: function() {\n    return [true];\n  }\n};\n\n// Use ES Maps when supported\nvar Map;\nif (typeof window.Map === 'function') {\n  Map = window.Map;\n} else {\n  Map = (function() {\n    function Map() {\n      this.map = {};\n    }\n    Map.prototype.get = function(key) {\n      return this.map[key + ' '];\n    };\n    Map.prototype.set = function(key, value) {\n      this.map[key + ' '] = value;\n    };\n    return Map;\n  })();\n}\n\n// Regexps adopted from Sizzle\n//   https://github.com/jquery/sizzle/blob/1.7/sizzle.js\n//\nvar chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n\n// Internal: Get indexes for selector.\n//\n// selector - String CSS selector\n//\n// Returns Array of {index, key}.\nfunction parseSelectorIndexes(allIndexes, selector) {\n  allIndexes = allIndexes.slice(0).concat(allIndexes['default']);\n\n  var allIndexesLen = allIndexes.length,\n    i,\n    j,\n    m,\n    dup,\n    rest = selector,\n    key,\n    index,\n    indexes = [];\n\n  do {\n    chunker.exec('');\n    if ((m = chunker.exec(rest))) {\n      rest = m[3];\n      if (m[2] || !rest) {\n        for (i = 0; i < allIndexesLen; i++) {\n          index = allIndexes[i];\n          if ((key = index.selector(m[1]))) {\n            j = indexes.length;\n            dup = false;\n            while (j--) {\n              if (indexes[j].index === index && indexes[j].key === key) {\n                dup = true;\n                break;\n              }\n            }\n            if (!dup) {\n              indexes.push({ index: index, key: key });\n            }\n            break;\n          }\n        }\n      }\n    }\n  } while (m);\n\n  return indexes;\n}\n\n// Internal: Find first item in Array that is a prototype of `proto`.\n//\n// ary   - Array of objects\n// proto - Prototype of expected item in `ary`\n//\n// Returns object from `ary` if found. Otherwise returns undefined.\nfunction findByPrototype(ary, proto) {\n  var i, len, item;\n  for (i = 0, len = ary.length; i < len; i++) {\n    item = ary[i];\n    if (proto.isPrototypeOf(item)) {\n      return item;\n    }\n  }\n}\n\n// Public: Log when added selector falls under the default index.\n//\n// This API should not be considered stable. May change between\n// minor versions.\n//\n// obj - {selector, data} Object\n//\n//   SelectorSet.prototype.logDefaultIndexUsed = function(obj) {\n//     console.warn(obj.selector, \"could not be indexed\");\n//   };\n//\n// Returns nothing.\nSelectorSet.prototype.logDefaultIndexUsed = function() {};\n\n// Public: Add selector to set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.add = function(selector, data) {\n  var obj,\n    i,\n    indexProto,\n    key,\n    index,\n    objs,\n    selectorIndexes,\n    selectorIndex,\n    indexes = this.activeIndexes,\n    selectors = this.selectors,\n    selectorObjects = this.selectorObjects;\n\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  obj = {\n    id: this.uid++,\n    selector: selector,\n    data: data\n  };\n  selectorObjects[obj.id] = obj;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n    key = selectorIndex.key;\n    indexProto = selectorIndex.index;\n\n    index = findByPrototype(indexes, indexProto);\n    if (!index) {\n      index = Object.create(indexProto);\n      index.map = new Map();\n      indexes.push(index);\n    }\n\n    if (indexProto === this.indexes['default']) {\n      this.logDefaultIndexUsed(obj);\n    }\n    objs = index.map.get(key);\n    if (!objs) {\n      objs = [];\n      index.map.set(key, objs);\n    }\n    objs.push(obj);\n  }\n\n  this.size++;\n  selectors.push(selector);\n};\n\n// Public: Remove selector from set.\n//\n// selector - String CSS selector\n// data     - Optional data Object (default: undefined)\n//\n// Returns nothing.\nSelectorSet.prototype.remove = function(selector, data) {\n  if (typeof selector !== 'string') {\n    return;\n  }\n\n  var selectorIndexes,\n    selectorIndex,\n    i,\n    j,\n    k,\n    selIndex,\n    objs,\n    obj,\n    indexes = this.activeIndexes,\n    selectors = (this.selectors = []),\n    selectorObjects = this.selectorObjects,\n    removedIds = {},\n    removeAll = arguments.length === 1;\n\n  selectorIndexes = parseSelectorIndexes(this.indexes, selector);\n  for (i = 0; i < selectorIndexes.length; i++) {\n    selectorIndex = selectorIndexes[i];\n\n    j = indexes.length;\n    while (j--) {\n      selIndex = indexes[j];\n      if (selectorIndex.index.isPrototypeOf(selIndex)) {\n        objs = selIndex.map.get(selectorIndex.key);\n        if (objs) {\n          k = objs.length;\n          while (k--) {\n            obj = objs[k];\n            if (obj.selector === selector && (removeAll || obj.data === data)) {\n              objs.splice(k, 1);\n              removedIds[obj.id] = true;\n            }\n          }\n        }\n        break;\n      }\n    }\n  }\n\n  for (i in removedIds) {\n    delete selectorObjects[i];\n    this.size--;\n  }\n\n  for (i in selectorObjects) {\n    selectors.push(selectorObjects[i].selector);\n  }\n};\n\n// Sort by id property handler.\n//\n// a - Selector obj.\n// b - Selector obj.\n//\n// Returns Number.\nfunction sortById(a, b) {\n  return a.id - b.id;\n}\n\n// Public: Find all matching decendants of the context element.\n//\n// context - An Element\n//\n// Returns Array of {selector, data, elements} matches.\nSelectorSet.prototype.queryAll = function(context) {\n  if (!this.selectors.length) {\n    return [];\n  }\n\n  var matches = {},\n    results = [];\n  var els = this.querySelectorAll(this.selectors.join(', '), context);\n\n  var i, j, len, len2, el, m, match, obj;\n  for (i = 0, len = els.length; i < len; i++) {\n    el = els[i];\n    m = this.matches(el);\n    for (j = 0, len2 = m.length; j < len2; j++) {\n      obj = m[j];\n      if (!matches[obj.id]) {\n        match = {\n          id: obj.id,\n          selector: obj.selector,\n          data: obj.data,\n          elements: []\n        };\n        matches[obj.id] = match;\n        results.push(match);\n      } else {\n        match = matches[obj.id];\n      }\n      match.elements.push(el);\n    }\n  }\n\n  return results.sort(sortById);\n};\n\n// Public: Match element against all selectors in set.\n//\n// el - An Element\n//\n// Returns Array of {selector, data} matches.\nSelectorSet.prototype.matches = function(el) {\n  if (!el) {\n    return [];\n  }\n\n  var i, j, k, len, len2, len3, index, keys, objs, obj, id;\n  var indexes = this.activeIndexes,\n    matchedIds = {},\n    matches = [];\n\n  for (i = 0, len = indexes.length; i < len; i++) {\n    index = indexes[i];\n    keys = index.element(el);\n    if (keys) {\n      for (j = 0, len2 = keys.length; j < len2; j++) {\n        if ((objs = index.map.get(keys[j]))) {\n          for (k = 0, len3 = objs.length; k < len3; k++) {\n            obj = objs[k];\n            id = obj.id;\n            if (!matchedIds[id] && this.matchesSelector(el, obj.selector)) {\n              matchedIds[id] = true;\n              matches.push(obj);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return matches.sort(sortById);\n};\n", "/**\r\n * Holds the SelectorSets for each event type\r\n * @type {{}}\r\n */\r\nconst eventTypes = {}\r\n\r\n/**\r\n * Holds Bus event stacks\r\n * @type {{}}\r\n */\r\nconst listeners = {}\r\n\r\n/**\r\n * Events that don't bubble\r\n * @type {string[]}\r\n */\r\nconst nonBubblers = ['mouseenter', 'mouseleave', 'pointerenter', 'pointerleave', 'blur', 'focus']\r\n\r\n/**\r\n * Make a bus stack if not already created.\r\n *\r\n * @param {string} event\r\n */\r\nfunction makeBusStack(event) {\r\n    if (listeners[event] === undefined) {\r\n        listeners[event] = new Set()\r\n    }\r\n}\r\n\r\n/**\r\n * Trigger a bus stack.\r\n *\r\n * @param {string} event\r\n * @param args\r\n */\r\nfunction triggerBus(event, args) {\r\n    if (listeners[event]) {\r\n        listeners[event].forEach(cb => {\r\n            cb(...args)\r\n        })\r\n    }\r\n}\r\n\r\n/**\r\n * Maybe run querySelectorAll if input is a string.\r\n *\r\n * @param {HTMLElement|Element|string} el\r\n * @returns {NodeListOf<Element>}\r\n */\r\nfunction maybeRunQuerySelector(el) {\r\n    return typeof el === 'string' ? document.querySelectorAll(el) : el\r\n}\r\n\r\n/**\r\n * Handle delegated events\r\n *\r\n * @param {Event} e\r\n */\r\nfunction handleDelegation(e) {\r\n    let matches = traverse(eventTypes[e.type], e.target)\r\n\r\n    if (matches.length) {\r\n        for (let i = 0; i < matches.length; i++) {\r\n            for (let i2 = 0; i2 < matches[i].stack.length; i2++) {\r\n                if (nonBubblers.indexOf(e.type) !== -1) {\r\n                    addDelegateTarget(e, matches[i].delegatedTarget)\r\n                    if (e.target === matches[i].delegatedTarget) {\r\n                        matches[i].stack[i2].data(e)\r\n                    }\r\n                } else {\r\n                    addDelegateTarget(e, matches[i].delegatedTarget)\r\n                    matches[i].stack[i2].data(e)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Find a matching selector for delegation\r\n *\r\n * @param {SelectorSet} listeners\r\n * @param {HTMLElement|Element|EventTarget} target\r\n * @returns {[]}\r\n */\r\nfunction traverse(listeners, target) {\r\n    const queue = []\r\n    let node = target\r\n\r\n    do {\r\n        if (node.nodeType !== 1) {\r\n            break\r\n        }\r\n\r\n        const matches = listeners.matches(node)\r\n\r\n        if (matches.length) {\r\n            queue.push({delegatedTarget: node, stack: matches})\r\n        }\r\n    } while ((node = node.parentElement))\r\n\r\n    return queue\r\n}\r\n\r\n/**\r\n * Add delegatedTarget attribute to dispatched delegated events\r\n *\r\n * @param {Event} event\r\n * @param {HTMLElement|Element} delegatedTarget\r\n */\r\nfunction addDelegateTarget(event, delegatedTarget) {\r\n    Object.defineProperty(event, 'currentTarget', {\r\n        configurable: true,\r\n        enumerable: true,\r\n\t\tget: () => delegatedTarget\r\n    })\r\n}\r\n\r\n/**\r\n * Creates a deep clone of an object.\r\n *\r\n * @param object\r\n * @returns {Object.<string, array>}\r\n */\r\nfunction clone(object) {\r\n    const copy = {}\r\n\r\n    for (const key in object) {\r\n        copy[key] = [...object[key]]\r\n    }\r\n\r\n\treturn copy\r\n}\r\n\r\nexport {\r\n    eventTypes,\r\n    listeners,\r\n    nonBubblers,\r\n    makeBusStack,\r\n    triggerBus,\r\n    maybeRunQuerySelector,\r\n    handleDelegation,\r\n    clone\r\n}\r\n", "import SelectorSet from 'selector-set'\nimport {\n    clone,\n    eventTypes,\n    handleDelegation,\n    listeners,\n    makeBusStack,\n    maybeRunQuerySelector,\n    nonBubblers,\n    triggerBus\n} from './utils'\n\n/**\n * Public API\n */\nclass E {\n    /**\n     * Binds all provided methods to a provided context.\n     *\n     * @param {object} context\n     * @param {string[]} [methods] Optional.\n     */\n    bindAll(context, methods) {\n        if (!methods) {\n            methods = Object.getOwnPropertyNames(Object.getPrototypeOf(context))\n        }\n\n        for (let i = 0; i < methods.length; i++) {\n            context[methods[i]] = context[methods[i]].bind(context)\n        }\n    }\n\n    /**\n     * Bind event to a string, NodeList, or element.\n     *\n     * @param {string} event\n     * @param {string|NodeList|NodeListOf<Element>|HTMLElement|HTMLElement[]|Window|Document|function} el\n     * @param {*} [callback]\n     * @param {{}|boolean} [options]\n     */\n    on(event, el, callback, options) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            if (typeof el === 'function' && callback === undefined) {\n                makeBusStack(events[i])\n                listeners[events[i]].add(el)\n                continue\n            }\n\n            if (el.nodeType && el.nodeType === 1 || el === window || el === document) {\n                el.addEventListener(events[i], callback, options)\n                continue\n            }\n\n            el = maybeRunQuerySelector(el)\n\n            for (let n = 0; n < el.length; n++) {\n                el[n].addEventListener(events[i], callback, options)\n            }\n        }\n    }\n\n    /**\n     * Add a delegated event.\n     *\n     * @param {string} event\n     * @param {string|NodeList|HTMLElement|Element} delegate\n     * @param {*} [callback]\n     */\n    delegate(event, delegate, callback) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            let map = eventTypes[events[i]]\n\n            if (map === undefined) {\n                map = new SelectorSet()\n                eventTypes[events[i]] = map\n\n                if (nonBubblers.indexOf(events[i]) !== -1) {\n                    document.addEventListener(events[i], handleDelegation, true)\n                } else {\n                    document.addEventListener(events[i], handleDelegation)\n                }\n            }\n\n            map.add(delegate, callback)\n        }\n    }\n\n    /**\n     * Remove a callback from a DOM element, or one or all Bus events.\n     *\n     * @param {string} event\n     * @param {string|NodeList|HTMLElement|Element|Window|undefined} [el]\n     * @param {*} [callback]\n     * @param {{}|boolean} [options]\n     */\n    off(event, el, callback, options) {\n        const events = event.split(' ')\n\n        for (let i = 0; i < events.length; i++) {\n            if (el === undefined) {\n                listeners[events[i]]?.clear()\n                continue\n            }\n\n            if (typeof el === 'function') {\n                makeBusStack(events[i])\n                listeners[events[i]].delete(el)\n                continue\n            }\n\n            const map = eventTypes[events[i]]\n\n            if (map !== undefined) {\n                map.remove(el, callback)\n\n                if (map.size === 0) {\n                    delete eventTypes[events[i]]\n\n                    if (nonBubblers.indexOf(events[i]) !== -1) {\n                        document.removeEventListener(events[i], handleDelegation, true)\n                    } else {\n                        document.removeEventListener(events[i], handleDelegation)\n                    }\n                    continue\n                }\n            }\n\n            if (el.removeEventListener !== undefined) {\n                el.removeEventListener(events[i], callback, options)\n                continue\n            }\n\n            el = maybeRunQuerySelector(el)\n\n            for (let n = 0; n < el.length; n++) {\n                el[n].removeEventListener(events[i], callback, options)\n            }\n        }\n    }\n\n    /**\n     * Emit a Bus event.\n     *\n     * @param {string} event\n     * @param {...*} args\n     */\n    emit(event, ...args) {\n        triggerBus(event, args)\n    }\n\n    /**\n     * Return a clone of the delegated event stack for debugging.\n     *\n     * @returns {Object.<string, array>}\n     */\n    debugDelegated() {\n        return JSON.parse(JSON.stringify(eventTypes))\n    }\n\n    /**\n     * Return a clone of the bus event stack for debugging.\n     *\n     * @returns {Object.<string, array>}\n     */\n    debugBus() {\n        return clone(listeners)\n    }\n\n    /**\n     * Checks if a given bus event has listeners.\n     *\n     * @param {string} event\n     * @returns {boolean}\n     */\n    hasBus(event) {\n        return this.debugBus().hasOwnProperty(event)\n    }\n}\n\nconst instance = new E()\nexport default instance\n", "const parser = new DOMParser()\n\n/**\n * Parse a HTML string into a proper Document.\n *\n * @param {string|Document} html\n * @return {Document|*}\n */\nexport function parseDom(html) {\n\treturn typeof html === 'string' ? parser.parseFromString(html, 'text/html') : html\n}\n\n/**\n * Extract details from a given URL string. Assumed to be on the current TLD.\n *\n * @param {string} url\n * @return {{raw: string, href: string, host: string, hasHash: boolean, pathname: string}}\n */\nexport function processUrl(url) {\n\tconst details = new URL(url, window.location.origin)\n\tconst normalized = details.hash.length ? url.replace(details.hash, '') : null\n\n\treturn {\n\t\thasHash: details.hash.length > 0,\n\t\tpathname: details.pathname,\n\t\thost: details.host,\n\t\traw: url,\n\t\thref: normalized || details.href\n\t}\n}\n\n/**\n * Reloads a provided script/stylesheet by replacing with itself.\n *\n * @param {HTMLElement|HTMLScriptElement|HTMLStyleElement} node\n * @param {string} elementType - 'SCRIPT' or 'STYLE'\n */\nexport function reloadElement(node, elementType) {\n\tnode.parentNode.replaceChild(duplicateElement(node, elementType), node)\n}\n\n/**\n * Loads a provided script/stylesheet by appending a clone to the current document.\n *\n * @param {HTMLElement|HTMLStyleElement} node\n * @param {string} elementType - 'SCRIPT' or 'STYLE'\n */\nexport function appendElement(node, elementType) {\n\tconst target = node.parentNode.tagName === 'HEAD' ? document.head : document.body\n\ttarget.appendChild(duplicateElement(node, elementType))\n}\n\n/**\n * Creates a clone of a given HTMLElement or HTMLStyleElement\n *\n * @param {HTMLElement|HTMLStyleElement} node\n * @param {string} elementType - 'SCRIPT' or 'STYLE'\n * @return {HTMLElement|HTMLStyleElement}\n */\nexport function duplicateElement(node, elementType) {\n\tconst replacement = document.createElement(elementType)\n\n\tfor (let k = 0; k < node.attributes.length; k++) {\n\t\tconst attr = node.attributes[k]\n\t\treplacement.setAttribute(attr.nodeName, attr.nodeValue)\n\t}\n\n\t// Inline Script or Style\n\tif (node.innerHTML) {\n\t\treplacement.innerHTML = node.innerHTML\n\t}\n\n\treturn replacement\n}\n", "export default class Transition {\n\t/**\n\t * @param {{wrapper: HTMLElement}} props\n\t */\n\tconstructor({ wrapper }) {\n\t\tthis.wrapper = wrapper\n\t}\n\n\t/**\n\t * @param {{ from: HTMLElement|Element, trigger: string|HTMLElement|false }} props\n\t * @return {Promise<void>}\n\t */\n\tleave(props) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onLeave({ ...props, done: resolve })\n\t\t})\n\t}\n\n\t/**\n\t * @param {{ to: HTMLElement|Element, trigger: string|HTMLElement|false }} props\n\t * @return {Promise<void>}\n\t */\n\tenter(props) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onEnter({ ...props, done: resolve })\n\t\t})\n\t}\n\n\t/**\n\t * Handle the transition leaving the previous page.\n\t * @param {{from: HTMLElement|Element, trigger: string|HTMLElement|false, done: function}} props\n\t */\n\tonLeave({ from, trigger, done }) {\n\t\tdone()\n\t}\n\n\t/**\n\t * Handle the transition entering the next page.\n\t * @param {{to: HTMLElement|Element, trigger: string|HTMLElement|false, done: function}} props\n\t */\n\tonEnter({ to, trigger, done }) {\n\t\tdone()\n\t}\n}\n", "import Transition from \"./Transition\"\n\nexport default class Renderer {\n\t/**\n\t * @param {{content: HTMLElement|Element, page: Document|Node, title: string, wrapper: Element}} props\n\t */\n\tconstructor({ content, page, title, wrapper }) {\n\t\tthis._contentString = content.outerHTML\n\t\tthis._DOM = null\n\t\tthis.page = page\n\t\tthis.title = title\n\t\tthis.wrapper = wrapper\n\t\tthis.content = this.wrapper.lastElementChild\n\t}\n\n\tonEnter() {\n\n\t}\n\n\tonEnterCompleted() {\n\n\t}\n\n\tonLeave() {\n\n\t}\n\n\tonLeaveCompleted() {\n\n\t}\n\n\tinitialLoad() {\n\t\tthis.onEnter()\n\t\tthis.onEnterCompleted()\n\t}\n\n\tupdate() {\n\t\tdocument.title = this.title\n\t\tthis.wrapper.appendChild(this._DOM.firstElementChild)\n\t\tthis.content = this.wrapper.lastElementChild\n\t\tthis._DOM = null\n\t}\n\n\tcreateDom() {\n\t\tif (!this._DOM) {\n\t\t\tthis._DOM = document.createElement('div')\n\t\t\tthis._DOM.innerHTML = this._contentString\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.wrapper.firstElementChild.remove()\n\t}\n\n\t/**\n\t * Called when transitioning into the current page.\n\t * @param {Transition} transition\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<null>}\n\t */\n\tenter(transition, trigger) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onEnter()\n\n\t\t\ttransition.enter({ trigger, to: this.content })\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.onEnterCompleted()\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Called when transitioning away from the current page.\n\t * @param {Transition} transition\n\t * @param {string|HTMLElement|false} trigger\n\t * @param {boolean} removeOldContent\n\t * @return {Promise<null>}\n\t */\n\tleave(transition, trigger, removeOldContent) {\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.onLeave()\n\n\t\t\ttransition.leave({ trigger, from: this.content })\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (removeOldContent) {\n\t\t\t\t\t\tthis.remove()\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.onLeaveCompleted()\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n}\n", "export default class RouteStore {\n\t/**\n\t * @type {Map<string, Map<string, string>>}\n\t */\n\tdata = new Map()\n\n\t/**\n\t * @type {Map<string, RegExp>}\n\t */\n\tregexCache = new Map()\n\n\t/**\n\t *\n\t * @param {string} fromPattern\n\t * @param {string} toPattern\n\t * @param {string} transition\n\t */\n\tadd(fromPattern, toPattern, transition) {\n\t\tif (!this.data.has(fromPattern)) {\n\t\t\tthis.data.set(fromPattern, new Map())\n\t\t\tthis.regexCache.set(fromPattern, new RegExp(`^${fromPattern}$`))\n\t\t}\n\n\t\tthis.data.get(fromPattern).set(toPattern, transition)\n\t\tthis.regexCache.set(toPattern, new RegExp(`^${toPattern}$`))\n\t}\n\n\t/**\n\t *\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} currentUrl\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} nextUrl\n\t * @return {string|null}\n\t */\n\tfindMatch(currentUrl, nextUrl) {\n\t\t// Loop through all from patterns\n\t\tfor (const [fromPattern, potentialMatches] of this.data) {\n\t\t\t// If we have a match\n\t\t\tif (currentUrl.pathname.match(this.regexCache.get(fromPattern))) {\n\t\t\t\t// loop through all associated to patterns\n\t\t\t\tfor (const [toPattern, transition] of potentialMatches) {\n\t\t\t\t\t// If we find a match, return it\n\t\t\t\t\tif (nextUrl.pathname.match(this.regexCache.get(toPattern))) {\n\t\t\t\t\t\treturn transition\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\treturn null\n\t}\n}\n", "import E from '@unseenco/e'\nimport { appendElement, parseDom, processUrl, reloadElement } from './helpers'\nimport Transition from './Transition'\nimport Renderer from './Renderer'\nimport RouteStore from './RouteStore'\n\nconst IN_PROGRESS = 'A transition is currently in progress'\n\n/**\n * @typedef CacheEntry\n * @type {object}\n * @property {typeof Renderer|Renderer} renderer\n * @property {Document|Node} page\n * @property {array} scripts\n * @property {HTMLLinkElement[]} styles\n * @property {string} finalUrl\n * @property {boolean} skipCache\n * @property {string} title\n * @property {HTMLElement|Element} content\n */\n\nexport default class Core {\n\tisTransitioning = false\n\n\t/**\n\t * @type {CacheEntry|null}\n\t */\n\tcurrentCacheEntry = null\n\n\t/**\n\t * @type {Map<string, CacheEntry>}\n\t */\n\tcache = new Map()\n\n\t/**\n\t * @private\n\t * @type {Map<string, Promise>}\n\t */\n\tactivePromises = new Map()\n\n\t/**\n\t * @param {{\n\t * \t\tlinks?: string,\n\t * \t\tremoveOldContent?: boolean,\n\t * \t\tallowInterruption?: boolean,\n\t * \t\tbypassCache?: boolean,\n\t * \t\tenablePrefetch?: boolean,\n\t * \t\trenderers?: Object.<string, typeof Renderer>,\n\t * \t\ttransitions?: Object.<string, typeof Transition>,\n\t * \t\treloadJsFilter?: boolean|function(HTMLElement): boolean,\n\t * \t\treloadCssFilter?: boolean|function(HTMLLinkElement): boolean\n\t * }} parameters\n\t */\n\tconstructor(parameters = {}) {\n\t\tconst {\n\t\t\tlinks = 'a:not([target]):not([href^=\\\\#]):not([data-taxi-ignore])',\n\t\t\tremoveOldContent = true,\n\t\t\tallowInterruption = false,\n\t\t\tbypassCache = false,\n\t\t\tenablePrefetch = true,\n\t\t\trenderers = {\n\t\t\t\tdefault: Renderer\n\t\t\t},\n\t\t\ttransitions = {\n\t\t\t\tdefault: Transition\n\t\t\t},\n\t\t\treloadJsFilter = (element) => element.dataset.taxiReload !== undefined,\n\t\t\treloadCssFilter = (element) => true //element.dataset.taxiReload !== undefined\n\t\t} = parameters\n\n\t\tthis.renderers = renderers\n\t\tthis.transitions = transitions\n\t\tthis.defaultRenderer = this.renderers.default || Renderer\n\t\tthis.defaultTransition = this.transitions.default || Transition\n\t\tthis.wrapper = document.querySelector('[data-taxi]')\n\t\tthis.reloadJsFilter = reloadJsFilter\n\t\tthis.reloadCssFilter = reloadCssFilter\n\t\tthis.removeOldContent = removeOldContent\n\t\tthis.allowInterruption = allowInterruption\n\t\tthis.bypassCache = bypassCache\n\t\tthis.enablePrefetch = enablePrefetch\n\t\tthis.cache = new Map()\n\t\tthis.isPopping = false\n\n\t\t// Add delegated link events\n\t\tthis.attachEvents(links)\n\n\t\tthis.currentLocation = processUrl(window.location.href)\n\n\t\t// as this is the initial page load, prime this page into the cache\n\t\tthis.cache.set(this.currentLocation.href, this.createCacheEntry(document.cloneNode(true), window.location.href))\n\n\t\t// fire the current Renderer enter methods\n\t\tthis.currentCacheEntry = this.cache.get(this.currentLocation.href)\n\t\tthis.currentCacheEntry.renderer.initialLoad()\n\t}\n\n\t/**\n\t * @param {string} renderer\n\t */\n\tsetDefaultRenderer(renderer) {\n\t\tthis.defaultRenderer = this.renderers[renderer]\n\t}\n\n\t/**\n\t * @param {string} transition\n\t */\n\tsetDefaultTransition(transition) {\n\t\tthis.defaultTransition = this.transitions[transition]\n\t}\n\n\t/**\n\t * Registers a route into the RouteStore\n\t *\n\t * @param {string} fromPattern\n\t * @param {string} toPattern\n\t * @param {string} transition\n\t */\n\taddRoute(fromPattern, toPattern, transition) {\n\t\tif (!this.router) {\n\t\t\tthis.router = new RouteStore()\n\t\t}\n\n\t\tthis.router.add(fromPattern, toPattern, transition)\n\t}\n\n\t/**\n\t * Prime the cache for a given URL\n\t *\n\t * @param {string} url\n\t * @param {boolean} [preloadAssets]\n\t * @return {Promise}\n\t */\n\tpreload(url, preloadAssets = false) {\n\t\t// convert relative URLs to absolute\n\t\turl = processUrl(url).href\n\n\t\tif (!this.cache.has(url)) {\n\t\t\treturn this.fetch(url, false)\n\t\t\t\t.then(async (response) => {\n\t\t\t\t\tthis.cache.set(url, this.createCacheEntry(response.html, response.url))\n\n\t\t\t\t\tif (preloadAssets) {\n\t\t\t\t\t\tthis.cache.get(url).renderer.createDom()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.warn(err))\n\t\t}\n\n\t\treturn Promise.resolve()\n\t}\n\n\t/**\n\t * Updates the HTML cache for a given URL.\n\t * If no URL is passed, then cache for the current page is updated.\n\t * Useful when adding/removing content via AJAX such as a search page or infinite loader.\n\t *\n\t * @param {string} [url]\n\t */\n\tupdateCache(url) {\n\t\tconst key = processUrl(url || window.location.href).href\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.delete(key)\n\t\t}\n\n\t\tthis.cache.set(key, this.createCacheEntry(document.cloneNode(true), key))\n\t}\n\n\t/**\n\t * Clears the cache for a given URL.\n\t * If no URL is passed, then cache for the current page is cleared.\n\t *\n\t * @param {string} [url]\n\t */\n\tclearCache(url) {\n\t\tconst key = processUrl(url || window.location.href).href\n\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.delete(key)\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} url\n\t * @param {string|false} [transition]\n\t * @param {string|false|HTMLElement} [trigger]\n\t * @return {Promise<void|Error>}\n\t */\n\tnavigateTo(url, transition = false, trigger = false) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t// Don't allow multiple navigations to occur at once\n\t\t\tif (!this.allowInterruption && this.isTransitioning) {\n\t\t\t\treject(new Error(IN_PROGRESS))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tthis.isTransitioning = true\n\t\t\tthis.isPopping = true\n\t\t\tthis.targetLocation = processUrl(url)\n\t\t\tthis.popTarget = window.location.href\n\n\t\t\tconst TransitionClass = new (this.chooseTransition(transition))({ wrapper: this.wrapper })\n\n\t\t\tlet navigationPromise\n\n\t\t\tif (this.bypassCache || !this.cache.has(this.targetLocation.href) || this.cache.get(this.targetLocation.href).skipCache) {\n\t\t\t\tconst fetched = this.fetch(this.targetLocation.href)\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.cache.set(this.targetLocation.href, this.createCacheEntry(response.html, response.url))\n\t\t\t\t\t\tthis.cache.get(this.targetLocation.href).renderer.createDom()\n\t\t\t\t\t})\n\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t// we encountered a 4** or 5** error, redirect to the requested URL\n\t\t\t\t\t\twindow.location.href = url\n\t\t\t\t\t})\n\n\t\t\t\tnavigationPromise = this.beforeFetch(this.targetLocation, TransitionClass, trigger)\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\treturn fetched.then(async () => {\n\t\t\t\t\t\t\treturn await this.afterFetch(this.targetLocation, TransitionClass, this.cache.get(this.targetLocation.href), trigger)\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.cache.get(this.targetLocation.href).renderer.createDom()\n\n\t\t\t\tnavigationPromise = this.beforeFetch(this.targetLocation, TransitionClass, trigger)\n\t\t\t\t\t.then(async () => {\n\t\t\t\t\t\treturn await this.afterFetch(this.targetLocation, TransitionClass, this.cache.get(this.targetLocation.href), trigger)\n\t\t\t\t\t})\n\t\t\t}\n\n\t\t\tnavigationPromise.then(() => {\n\t\t\t\tresolve()\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Add an event listener.\n\t * @param {string} event\n\t * @param {any} callback\n\t */\n\ton(event, callback) {\n\t\tE.on(event, callback)\n\t}\n\n\t/**\n\t * Remove an event listener.\n\t * @param {string} event\n\t * @param {any} [callback]\n\t */\n\toff(event, callback) {\n\t\tE.off(event, callback)\n\t}\n\n\t/**\n\t * @private\n\t * @param {{ raw: string, href: string, hasHash: boolean, pathname: string }} url\n\t * @param {Transition} TransitionClass\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<void>}\n\t */\n\tbeforeFetch(url, TransitionClass, trigger) {\n\t\tE.emit('NAVIGATE_OUT', {\n\t\t\tfrom: this.currentCacheEntry,\n\t\t\ttrigger\n\t\t})\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.currentCacheEntry.renderer.leave(TransitionClass, trigger, this.removeOldContent)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (trigger !== 'popstate') {\n\t\t\t\t\t\twindow.history.pushState({}, '', url.raw)\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * @private\n\t * @param {{ raw: string, href: string, host: string, hasHash: boolean, pathname: string }} url\n\t * @param {Transition} TransitionClass\n\t * @param {CacheEntry} entry\n\t * @param {string|HTMLElement|false} trigger\n\t * @return {Promise<void>}\n\t */\n\tafterFetch(url, TransitionClass, entry, trigger) {\n\t\tthis.currentLocation = url\n\t\tthis.popTarget = this.currentLocation.href\n\n\t\treturn new Promise((resolve) => {\n\t\t\tentry.renderer.update()\n\n\t\t\tE.emit('NAVIGATE_IN', {\n\t\t\t\tfrom: this.currentCacheEntry,\n\t\t\t\tto: entry,\n\t\t\t\ttrigger\n\t\t\t})\n\n\t\t\tif (this.reloadJsFilter) {\n\t\t\t\tthis.loadScripts(entry.scripts)\n\t\t\t}\n\n\t\t\tif (this.reloadCssFilter) {\n\t\t\t\tthis.loadStyles(entry.styles)\n\t\t\t}\n\n\t\t\t// If the fetched url had a redirect chain, then replace the history to reflect the final resolved URL\n\t\t\tif (trigger !== 'popstate' && url.href !== entry.finalUrl) {\n\t\t\t\twindow.history.replaceState({}, '', entry.finalUrl)\n\t\t\t}\n\n\t\t\tentry.renderer.enter(TransitionClass, trigger)\n\t\t\t\t.then(() => {\n\t\t\t\t\tE.emit('NAVIGATE_END', {\n\t\t\t\t\t\tfrom: this.currentCacheEntry,\n\t\t\t\t\t\tto: entry,\n\t\t\t\t\t\ttrigger\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.currentCacheEntry = entry\n\t\t\t\t\tthis.isTransitioning = false\n\t\t\t\t\tthis.isPopping = false\n\t\t\t\t\tresolve()\n\t\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Load up scripts from the target page if needed\n\t *\n\t * @param {HTMLElement[]} cachedScripts\n\t */\n\tloadScripts(cachedScripts) {\n\t\tconst newScripts = [...cachedScripts]\n\t\tconst currentScripts = Array.from(document.querySelectorAll('script')).filter(this.reloadJsFilter)\n\n\t\t// loop through all new scripts\n\t\tfor (let i = 0; i < currentScripts.length; i++) {\n\t\t\tfor (let n = 0; n < newScripts.length; n++) {\n\t\t\t\tif (currentScripts[i].outerHTML === newScripts[n].outerHTML) {\n\t\t\t\t\treloadElement(currentScripts[i], 'SCRIPT')\n\t\t\t\t\tnewScripts.splice(n, 1)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const script of newScripts) {\n\t\t\tappendElement(script, 'SCRIPT')\n\t\t}\n\t}\n\n\t/**\n\t * Load up styles from the target page if needed\n\t *\n\t * @param {Array<HTMLLinkElement|HTMLStyleElement>} cachedStyles\n\t */\n\tloadStyles(cachedStyles) {\n\t\tconst currentStyles = Array.from(document.querySelectorAll('link[rel=\"stylesheet\"]')).filter(this.reloadCssFilter)\n\t\tconst currentInlineStyles = Array.from(document.querySelectorAll('style')).filter(this.reloadCssFilter)\n\n\t\tconst newInlineStyles = cachedStyles.filter(el => {\n\t\t\t// no el.href, assume it's an inline style\n\t\t\tif (!el.href) {\n\t\t\t\treturn true\n\t\t\t} else if (!currentStyles.find((link) => link.href === el.href)) {\n\t\t\t\tdocument.body.append(el)\n\t\t\t\treturn false\n\t\t\t}\n\t\t})\n\n\t\t// loop through all new inline styles\n\t\tfor (let i = 0; i < currentInlineStyles.length; i++) {\n\t\t\tfor (let n = 0; n < newInlineStyles.length; n++) {\n\t\t\t\tif (currentInlineStyles[i].outerHTML === newInlineStyles[n].outerHTML) {\n\t\t\t\t\treloadElement(currentInlineStyles[i], 'STYLE')\n\t\t\t\t\tnewInlineStyles.splice(n, 1)\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const style of newInlineStyles) {\n\t\t\tappendElement(style, 'STYLE')\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {string} links\n\t */\n\tattachEvents(links) {\n\t\tE.delegate('click', links, this.onClick)\n\t\tE.on('popstate', window, this.onPopstate)\n\n\t\tif (this.enablePrefetch) {\n\t\t\tE.delegate('mouseenter focus', links, this.onPrefetch)\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {MouseEvent} e\n\t */\n\tonClick = (e) => {\n\t\tif (!(e.metaKey || e.ctrlKey)) {\n\t\t\tconst target = processUrl(e.currentTarget.href)\n\t\t\tthis.currentLocation = processUrl(window.location.href)\n\n\t\t\tif (this.currentLocation.host !== target.host) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// the target is a new URL, or is removing the hash from the current URL\n\t\t\tif (this.currentLocation.href !== target.href || (this.currentLocation.hasHash && !target.hasHash)) {\n\t\t\t\te.preventDefault()\n\t\t\t\t// noinspection JSIgnoredPromiseFromCall\n\t\t\t\tthis.navigateTo(target.raw, e.currentTarget.dataset.transition || false, e.currentTarget).catch(err => console.warn(err))\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// a click to the current URL was detected\n\t\t\tif (!this.currentLocation.hasHash && !target.hasHash) {\n\t\t\t\te.preventDefault()\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @return {void|boolean}\n\t */\n\tonPopstate = () => {\n\t\t// don't trigger for on-page anchors\n\t\tif (window.location.pathname === this.currentLocation.pathname && !this.isPopping) {\n\t\t\treturn false\n\t\t}\n\n\t\tif (!this.allowInterruption && (this.isTransitioning || this.isPopping)) {\n\t\t\t// overwrite history state with current page if currently navigating\n\t\t\twindow.history.pushState({}, '', this.popTarget)\n\t\t\tconsole.warn(IN_PROGRESS)\n\t\t\treturn false\n\t\t}\n\n\t\tif (!this.isPopping) {\n\t\t\tthis.popTarget = window.location.href\n\t\t}\n\n\t\tthis.isPopping = true\n\n\t\t// noinspection JSIgnoredPromiseFromCall\n\t\tthis.navigateTo(window.location.href, false, 'popstate')\n\t}\n\n\t/**\n\t * @private\n\t * @param {MouseEvent} e\n\t */\n\tonPrefetch = (e) => {\n\t\tconst target = processUrl(e.currentTarget.href)\n\n\t\tif (this.currentLocation.host !== target.host) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.preload(e.currentTarget.href, false)\n\t}\n\n\t/**\n\t * @private\n\t * @param {string} url\n\t * @param {boolean} [runFallback]\n\t * @return {Promise<{html: Document, url: string}>}\n\t */\n\tfetch(url, runFallback = true) {\n\t\t// If Taxi is currently performing a fetch for the given URL, return that instead of starting a new request\n\t\tif (this.activePromises.has(url)) {\n\t\t\treturn this.activePromises.get(url)\n\t\t}\n\n\t\tconst request = new Promise((resolve, reject) => {\n\t\t\tlet resolvedUrl\n\n\t\t\tfetch(url, {\n\t\t\t\tmode: 'same-origin',\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: { 'X-Requested-With': 'Taxi' },\n\t\t\t\tcredentials: 'same-origin'\n\t\t\t})\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (!response.ok) {\n\t\t\t\t\t\treject('Taxi encountered a non 2xx HTTP status code')\n\n\t\t\t\t\t\tif (runFallback) {\n\t\t\t\t\t\t\twindow.location.href = url\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolvedUrl = response.url\n\n\t\t\t\t\treturn response.text()\n\t\t\t\t})\n\t\t\t\t.then((htmlString) => {\n\t\t\t\t\tresolve({ html: parseDom(htmlString), url: resolvedUrl })\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\treject(err)\n\n\t\t\t\t\tif (runFallback) {\n\t\t\t\t\t\twindow.location.href = url\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.activePromises.delete(url)\n\t\t\t\t})\n\t\t})\n\n\t\tthis.activePromises.set(url, request)\n\n\t\treturn request\n\t}\n\n\t/**\n\t * @private\n\t * @param {string|false} transition\n\t * @return {Transition|function}\n\t */\n\tchooseTransition(transition) {\n\t\tif (transition) {\n\t\t\treturn this.transitions[transition]\n\t\t}\n\n\t\tconst routeTransition = this.router?.findMatch(this.currentLocation, this.targetLocation)\n\n\t\tif (routeTransition) {\n\t\t\treturn this.transitions[routeTransition]\n\t\t}\n\n\t\treturn this.defaultTransition\n\t}\n\n\t/**\n\t * @private\n\t * @param {Document|Node} page\n\t * @param {string} url\n\t * @return {CacheEntry}\n\t */\n\tcreateCacheEntry(page, url) {\n\t\tconst content = page.querySelector('[data-taxi-view]')\n\t\tconst Renderer = content.dataset.taxiView.length ? this.renderers[content.dataset.taxiView] : this.defaultRenderer\n\n\t\tif (!Renderer) {\n\t\t\tconsole.warn(`The Renderer \"${content.dataset.taxiView}\" was set in the data-taxi-view of the requested page, but not registered in Taxi.`)\n\t\t}\n\n\t\treturn {\n\t\t\tpage,\n\t\t\tcontent,\n\t\t\tfinalUrl: url,\n\t\t\tskipCache: content.hasAttribute('data-taxi-nocache'),\n\t\t\tscripts: this.reloadJsFilter ? Array.from(page.querySelectorAll('script')).filter(this.reloadJsFilter) : [],\n\t\t\tstyles: this.reloadCssFilter ? Array.from(page.querySelectorAll('link[rel=\"stylesheet\"], style')).filter(this.reloadCssFilter) : [],\n\t\t\ttitle: page.title,\n\t\t\trenderer: new Renderer({\n\t\t\t\twrapper: this.wrapper,\n\t\t\t\ttitle: page.title,\n\t\t\t\tcontent,\n\t\t\t\tpage\n\t\t\t})\n\t\t}\n\t}\n}\n", "import { Transition } from '@unseenco/taxi';\n\nexport default class MyTransition extends Transition {\n  /**\n   * Handle the transition leaving the previous page.\n   * @param { { from: HTMLElement, trigger: string|HTMLElement|false, done: function } } props\n   */\n  onLeave({ from, trigger, done }) {\n    if (from) {\n      from.style.transition = 'opacity 0.5s';\n      from.style.opacity = 0;\n\n      from.addEventListener(\n        'transitionend',\n        () => {\n          done();\n        },\n        { once: true }\n      );\n    } else {\n      done();\n    }\n  }\n\n  /**\n   * Handle the transition entering the next page.\n   * @param { { to: HTMLElement, trigger: string|HTMLElement|false, done: function } } props\n   */\n  onEnter({ to, trigger, done }) {\n    if (to) {\n      to.style.opacity = 0;\n      to.style.transition = 'opacity 0.5s';\n\n      requestAnimationFrame(() => {\n        to.style.opacity = 1;\n      });\n\n      to.addEventListener(\n        'transitionend',\n        () => {\n          done();\n        },\n        { once: true }\n      );\n    } else {\n      done();\n    }\n  }\n}\n", "// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\nimport { Core } from '@unseenco/taxi';\n\nimport MyTransition from './transition-config';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const taxi = new Core({\n    transitions: {\n      mine: MyTransition,\n    },\n  });\n});\n"],
  "mappings": "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",
  "names": ["Map", "matches", "matches", "listeners", "Renderer"]
}
